(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{459:function(t,s,e){"use strict";e.r(s);var a=e(36),n=Object(a.a)({},(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"chaincode-upgrade"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#chaincode-upgrade"}},[t._v("#")]),t._v(" Chaincode Upgrade")]),t._v(" "),e("h2",{attrs:{id:"peer-chaincode-upgrade"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#peer-chaincode-upgrade"}},[t._v("#")]),t._v(" peer chaincode upgrade")]),t._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[t._v("\n$ peer chaincode upgrade\n\nUpgrade an existing chaincode with the specified one. The new chaincode will immediately replace the existing chaincode upon the transaction committed.\n\nUsage:\n  peer chaincode upgrade "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("flags"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\nFlags:\n  -C, --channelID string               The channel on "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("which")]),t._v(" this "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("command")]),t._v(" should be executed\n      --collections-config string      The fully qualified path to the collection JSON "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("file")]),t._v(" including the "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("file")]),t._v(" name\n      --connectionProfile string       Connection profile that provides the necessary connection information "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" the network. Note: currently only supported "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" providing peer connection information\n  -c, --ctor string                    Constructor message "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" the chaincode "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" JSON "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("format")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("default "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"{}"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  -E, --escc string                    The name of the endorsement system chaincode to be used "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" this chaincode\n  -h, --help                           "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("help")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" upgrade\n  -l, --lang string                    Language the chaincode is written "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("default "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"golang"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  -n, --name string                    Name of the chaincode\n  -p, --path string                    Path to chaincode\n      --peerAddresses stringArray      The addresses of the peers to connect to\n  -P, --policy string                  The endorsement policy associated to this chaincode\n      --tlsRootCertFiles stringArray   If TLS is enabled, the paths to the TLS root cert files of the peers to connect to. The order and number of certs specified should match the --peerAddresses flag\n  -v, --version string                 Version of the chaincode specified "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" install/instantiate/upgrade commands\n  -V, --vscc string                    The name of the verification system chaincode to be used "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" this chaincode\n\nGlobal Flags:\n      --cafile string                       Path to "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("file")]),t._v(" containing PEM-encoded trusted certificate"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("s"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" the ordering endpoint\n      --certfile string                     Path to "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("file")]),t._v(" containing PEM-encoded X509 public key to use "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" mutual TLS communication with the orderer endpoint\n      --clientauth                          Use mutual TLS when communicating with the orderer endpoint\n      --connTimeout duration                Timeout "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" client to connect "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("default 3s"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      --keyfile string                      Path to "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("file")]),t._v(" containing PEM-encoded private key to use "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" mutual TLS communication with the orderer endpoint\n  -o, --orderer string                      Ordering "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("service")]),t._v(" endpoint\n      --ordererTLSHostnameOverride string   The "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("hostname")]),t._v(" override to use when validating the TLS connection to the orderer\n      --tls                                 Use TLS when communicating with the orderer endpoint\n      --tlsHandshakeTimeShift duration      The amount of "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("time")]),t._v(" to "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("shift")]),t._v(" backwards "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" certificate expiration checks during TLS handshakes with the orderer endpoint\n      --transient string                    Transient map of arguments "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" JSON encoding\n\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br"),e("span",{staticClass:"line-number"},[t._v("8")]),e("br"),e("span",{staticClass:"line-number"},[t._v("9")]),e("br"),e("span",{staticClass:"line-number"},[t._v("10")]),e("br"),e("span",{staticClass:"line-number"},[t._v("11")]),e("br"),e("span",{staticClass:"line-number"},[t._v("12")]),e("br"),e("span",{staticClass:"line-number"},[t._v("13")]),e("br"),e("span",{staticClass:"line-number"},[t._v("14")]),e("br"),e("span",{staticClass:"line-number"},[t._v("15")]),e("br"),e("span",{staticClass:"line-number"},[t._v("16")]),e("br"),e("span",{staticClass:"line-number"},[t._v("17")]),e("br"),e("span",{staticClass:"line-number"},[t._v("18")]),e("br"),e("span",{staticClass:"line-number"},[t._v("19")]),e("br"),e("span",{staticClass:"line-number"},[t._v("20")]),e("br"),e("span",{staticClass:"line-number"},[t._v("21")]),e("br"),e("span",{staticClass:"line-number"},[t._v("22")]),e("br"),e("span",{staticClass:"line-number"},[t._v("23")]),e("br"),e("span",{staticClass:"line-number"},[t._v("24")]),e("br"),e("span",{staticClass:"line-number"},[t._v("25")]),e("br"),e("span",{staticClass:"line-number"},[t._v("26")]),e("br"),e("span",{staticClass:"line-number"},[t._v("27")]),e("br"),e("span",{staticClass:"line-number"},[t._v("28")]),e("br"),e("span",{staticClass:"line-number"},[t._v("29")]),e("br"),e("span",{staticClass:"line-number"},[t._v("30")]),e("br"),e("span",{staticClass:"line-number"},[t._v("31")]),e("br"),e("span",{staticClass:"line-number"},[t._v("32")]),e("br"),e("span",{staticClass:"line-number"},[t._v("33")]),e("br"),e("span",{staticClass:"line-number"},[t._v("34")]),e("br"),e("span",{staticClass:"line-number"},[t._v("35")]),e("br"),e("span",{staticClass:"line-number"},[t._v("36")]),e("br")])]),e("h3",{attrs:{id:"upgrade-example"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#upgrade-example"}},[t._v("#")]),t._v(" Upgrade Example")]),t._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[t._v("$ "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("export")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("ORDERER_CA")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/ordererOrganizations/example.com/orderers/orderer.example.com/msp/tlscacerts/tlsca.example.com-cert.pem\n$ peer chaincode upgrade -o orderer.example.com:7050 --tls --cafile "),e("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$ORDERER_CA")]),t._v(" -C mychannel -n mycc -v "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.2")]),t._v(" -c "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('\'{"Args":["init","a","100","b","200","c","300"]}\'')]),t._v(" -P "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("\"AND ('Org1MSP.peer','Org2MSP.peer')\"")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(".")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(".")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(".")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2018")]),t._v("-02-22 "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("18")]),t._v(":26:31.433 UTC "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("chaincodeCmd"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" checkChaincodeCmdParams -"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" INFO 003 Using default escc\n"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2018")]),t._v("-02-22 "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("18")]),t._v(":26:31.434 UTC "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("chaincodeCmd"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" checkChaincodeCmdParams -"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" INFO 004 Using default vscc\n"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2018")]),t._v("-02-22 "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("18")]),t._v(":26:31.435 UTC "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("chaincodeCmd"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" getChaincodeSpec -"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" DEBU 005 java chaincode enabled\n"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2018")]),t._v("-02-22 "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("18")]),t._v(":26:31.435 UTC "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("chaincodeCmd"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" upgrade -"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" DEBU 006 Get upgrade proposal "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" chaincode "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("name:"),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"mycc"')]),t._v(" version:"),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1.1"')]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(".")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(".")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(".")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2018")]),t._v("-02-22 "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("18")]),t._v(":26:46.687 UTC "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("chaincodeCmd"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" upgrade -"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" DEBU 009 endorse upgrade proposal, get response "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("status:200 message:"),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"OK"')]),t._v(" payload:"),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),e("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[t._v("\\n")]),e("span",{pre:!0,attrs:{class:"token entity",title:"\\004"}},[t._v("\\004")]),t._v("mycc"),e("span",{pre:!0,attrs:{class:"token entity",title:"\\022"}},[t._v("\\022")]),e("span",{pre:!0,attrs:{class:"token entity",title:"\\003"}},[t._v("\\003")]),t._v("1.1"),e("span",{pre:!0,attrs:{class:"token entity",title:"\\032"}},[t._v("\\032")]),e("span",{pre:!0,attrs:{class:"token entity",title:"\\004"}},[t._v("\\004")]),t._v("escc"),e("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),e("span",{pre:!0,attrs:{class:"token entity",title:"\\004"}},[t._v("\\004")]),t._v("vscc*,"),e("span",{pre:!0,attrs:{class:"token entity",title:"\\022"}},[t._v("\\022")]),e("span",{pre:!0,attrs:{class:"token entity",title:"\\014"}},[t._v("\\014")]),e("span",{pre:!0,attrs:{class:"token entity",title:"\\022"}},[t._v("\\022")]),e("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[t._v("\\n")]),e("span",{pre:!0,attrs:{class:"token entity",title:"\\010"}},[t._v("\\010")]),e("span",{pre:!0,attrs:{class:"token entity",title:"\\001"}},[t._v("\\001")]),e("span",{pre:!0,attrs:{class:"token entity",title:"\\022"}},[t._v("\\022")]),e("span",{pre:!0,attrs:{class:"token entity",title:"\\002"}},[t._v("\\002")]),e("span",{pre:!0,attrs:{class:"token entity",title:"\\010"}},[t._v("\\010")]),e("span",{pre:!0,attrs:{class:"token entity",title:"\\000"}},[t._v("\\000")]),e("span",{pre:!0,attrs:{class:"token entity",title:"\\022"}},[t._v("\\022")]),e("span",{pre:!0,attrs:{class:"token entity",title:"\\002"}},[t._v("\\002")]),e("span",{pre:!0,attrs:{class:"token entity",title:"\\010"}},[t._v("\\010")]),e("span",{pre:!0,attrs:{class:"token entity",title:"\\001"}},[t._v("\\001")]),e("span",{pre:!0,attrs:{class:"token entity",title:"\\032"}},[t._v("\\032")]),e("span",{pre:!0,attrs:{class:"token entity",title:"\\r"}},[t._v("\\r")]),e("span",{pre:!0,attrs:{class:"token entity",title:"\\022"}},[t._v("\\022")]),e("span",{pre:!0,attrs:{class:"token entity",title:"\\013"}},[t._v("\\013")]),e("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[t._v("\\n")]),e("span",{pre:!0,attrs:{class:"token entity",title:"\\007"}},[t._v("\\007")]),t._v("Org1MSP"),e("span",{pre:!0,attrs:{class:"token entity",title:"\\020"}},[t._v("\\020")]),e("span",{pre:!0,attrs:{class:"token entity",title:"\\003"}},[t._v("\\003")]),e("span",{pre:!0,attrs:{class:"token entity",title:"\\032"}},[t._v("\\032")]),e("span",{pre:!0,attrs:{class:"token entity",title:"\\r"}},[t._v("\\r")]),e("span",{pre:!0,attrs:{class:"token entity",title:"\\022"}},[t._v("\\022")]),e("span",{pre:!0,attrs:{class:"token entity",title:"\\013"}},[t._v("\\013")]),e("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[t._v("\\n")]),e("span",{pre:!0,attrs:{class:"token entity",title:"\\007"}},[t._v("\\007")]),t._v("Org2MSP"),e("span",{pre:!0,attrs:{class:"token entity",title:"\\020"}},[t._v("\\020")]),e("span",{pre:!0,attrs:{class:"token entity",title:"\\003"}},[t._v("\\003")]),t._v("2f"),e("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[t._v("\\n")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token entity",title:"\\261"}},[t._v("\\261")]),t._v("g(^v"),e("span",{pre:!0,attrs:{class:"token entity",title:"\\021"}},[t._v("\\021")]),e("span",{pre:!0,attrs:{class:"token entity",title:"\\220"}},[t._v("\\220")]),e("span",{pre:!0,attrs:{class:"token entity",title:"\\240"}},[t._v("\\240")]),e("span",{pre:!0,attrs:{class:"token entity",title:"\\332"}},[t._v("\\332")]),e("span",{pre:!0,attrs:{class:"token entity",title:"\\251"}},[t._v("\\251")]),e("span",{pre:!0,attrs:{class:"token entity",title:"\\014"}},[t._v("\\014")]),e("span",{pre:!0,attrs:{class:"token entity",title:"\\204"}},[t._v("\\204")]),t._v("V"),e("span",{pre:!0,attrs:{class:"token entity",title:"\\210"}},[t._v("\\210")]),t._v("P"),e("span",{pre:!0,attrs:{class:"token entity",title:"\\310"}},[t._v("\\310")]),t._v("o"),e("span",{pre:!0,attrs:{class:"token entity",title:"\\231"}},[t._v("\\231")]),e("span",{pre:!0,attrs:{class:"token entity",title:"\\271"}},[t._v("\\271")]),e("span",{pre:!0,attrs:{class:"token entity",title:"\\036"}},[t._v("\\036")]),e("span",{pre:!0,attrs:{class:"token entity",title:"\\301"}},[t._v("\\301")]),e("span",{pre:!0,attrs:{class:"token entity",title:"\\022"}},[t._v("\\022")]),e("span",{pre:!0,attrs:{class:"token entity",title:"\\032"}},[t._v("\\032")]),e("span",{pre:!0,attrs:{class:"token entity",title:"\\205"}},[t._v("\\205")]),t._v("fC[|="),e("span",{pre:!0,attrs:{class:"token entity",title:"\\215"}},[t._v("\\215")]),e("span",{pre:!0,attrs:{class:"token entity",title:"\\372"}},[t._v("\\372")]),e("span",{pre:!0,attrs:{class:"token entity",title:"\\223"}},[t._v("\\223")]),e("span",{pre:!0,attrs:{class:"token entity",title:"\\022"}},[t._v("\\022")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token entity",title:"\\311"}},[t._v("\\311")]),t._v("b"),e("span",{pre:!0,attrs:{class:"token entity",title:"\\025"}},[t._v("\\025")]),t._v("?"),e("span",{pre:!0,attrs:{class:"token entity",title:"\\323"}},[t._v("\\323")]),t._v("N"),e("span",{pre:!0,attrs:{class:"token entity",title:"\\343"}},[t._v("\\343")]),e("span",{pre:!0,attrs:{class:"token entity",title:"\\325"}},[t._v("\\325")]),e("span",{pre:!0,attrs:{class:"token entity",title:"\\032"}},[t._v("\\032")]),e("span",{pre:!0,attrs:{class:"token entity",title:"\\005"}},[t._v("\\005")]),e("span",{pre:!0,attrs:{class:"token entity",title:"\\365"}},[t._v("\\365")]),e("span",{pre:!0,attrs:{class:"token entity",title:"\\236"}},[t._v("\\236")]),e("span",{pre:!0,attrs:{class:"token entity",title:"\\001"}},[t._v("\\001")]),t._v("XKj"),e("span",{pre:!0,attrs:{class:"token entity",title:"\\004"}},[t._v("\\004")]),t._v("E"),e("span",{pre:!0,attrs:{class:"token entity",title:"\\351"}},[t._v("\\351")]),e("span",{pre:!0,attrs:{class:"token entity",title:"\\007"}},[t._v("\\007")]),e("span",{pre:!0,attrs:{class:"token entity",title:"\\247"}},[t._v("\\247")]),e("span",{pre:!0,attrs:{class:"token entity",title:"\\265"}},[t._v("\\265")]),t._v("fu"),e("span",{pre:!0,attrs:{class:"token entity",title:"\\305"}},[t._v("\\305")]),t._v("j"),e("span",{pre:!0,attrs:{class:"token entity",title:"\\367"}},[t._v("\\367")]),e("span",{pre:!0,attrs:{class:"token entity",title:"\\331"}},[t._v("\\331")]),e("span",{pre:!0,attrs:{class:"token entity",title:"\\275"}},[t._v("\\275")]),e("span",{pre:!0,attrs:{class:"token entity",title:"\\253"}},[t._v("\\253")]),e("span",{pre:!0,attrs:{class:"token entity",title:"\\307"}},[t._v("\\307")]),t._v("R"),e("span",{pre:!0,attrs:{class:"token entity",title:"\\032"}},[t._v("\\032")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token entity",title:"\\014"}},[t._v("\\014")]),t._v("H#"),e("span",{pre:!0,attrs:{class:"token entity",title:"\\014"}},[t._v("\\014")]),e("span",{pre:!0,attrs:{class:"token entity",title:"\\272"}},[t._v("\\272")]),t._v("!#"),e("span",{pre:!0,attrs:{class:"token entity",title:"\\345"}},[t._v("\\345")]),e("span",{pre:!0,attrs:{class:"token entity",title:"\\306"}},[t._v("\\306")]),t._v("s"),e("span",{pre:!0,attrs:{class:"token entity",title:"\\323"}},[t._v("\\323")]),e("span",{pre:!0,attrs:{class:"token entity",title:"\\371"}},[t._v("\\371")]),e("span",{pre:!0,attrs:{class:"token entity",title:"\\350"}},[t._v("\\350")]),e("span",{pre:!0,attrs:{class:"token entity",title:"\\364"}},[t._v("\\364")]),e("span",{pre:!0,attrs:{class:"token entity",title:"\\006"}},[t._v("\\006")]),t._v("."),e("span",{pre:!0,attrs:{class:"token entity",title:"\\000"}},[t._v("\\000")]),e("span",{pre:!0,attrs:{class:"token entity",title:"\\356"}},[t._v("\\356")]),e("span",{pre:!0,attrs:{class:"token entity",title:"\\230"}},[t._v("\\230")]),e("span",{pre:!0,attrs:{class:"token entity",title:"\\353"}},[t._v("\\353")]),e("span",{pre:!0,attrs:{class:"token entity",title:"\\270"}},[t._v("\\270")]),e("span",{pre:!0,attrs:{class:"token entity",title:"\\263"}},[t._v("\\263")]),e("span",{pre:!0,attrs:{class:"token entity",title:"\\215"}},[t._v("\\215")]),e("span",{pre:!0,attrs:{class:"token entity",title:"\\217"}},[t._v("\\217")]),e("span",{pre:!0,attrs:{class:"token entity",title:"\\303"}},[t._v("\\303")]),e("span",{pre:!0,attrs:{class:"token entity",title:"\\256"}},[t._v("\\256")]),e("span",{pre:!0,attrs:{class:"token entity",title:"\\220"}},[t._v("\\220")]),t._v("i^"),e("span",{pre:!0,attrs:{class:"token entity",title:"\\277"}},[t._v("\\277")]),e("span",{pre:!0,attrs:{class:"token entity",title:"\\305"}},[t._v("\\305")]),e("span",{pre:!0,attrs:{class:"token entity",title:"\\214"}},[t._v("\\214")]),t._v(": "),e("span",{pre:!0,attrs:{class:"token entity",title:"\\375"}},[t._v("\\375")]),e("span",{pre:!0,attrs:{class:"token entity",title:"\\200"}},[t._v("\\200")]),t._v("zY"),e("span",{pre:!0,attrs:{class:"token entity",title:"\\275"}},[t._v("\\275")]),e("span",{pre:!0,attrs:{class:"token entity",title:"\\203"}},[t._v("\\203")]),t._v("}"),e("span",{pre:!0,attrs:{class:"token entity",title:"\\375"}},[t._v("\\375")]),e("span",{pre:!0,attrs:{class:"token entity",title:"\\244"}},[t._v("\\244")]),e("span",{pre:!0,attrs:{class:"token entity",title:"\\205"}},[t._v("\\205")]),e("span",{pre:!0,attrs:{class:"token entity",title:"\\035"}},[t._v("\\035")]),e("span",{pre:!0,attrs:{class:"token entity",title:"\\340"}},[t._v("\\340")]),e("span",{pre:!0,attrs:{class:"token entity",title:"\\226"}},[t._v("\\226")]),t._v("]l!uE"),e("span",{pre:!0,attrs:{class:"token entity",title:"\\334"}},[t._v("\\334")]),e("span",{pre:!0,attrs:{class:"token entity",title:"\\273"}},[t._v("\\273")]),e("span",{pre:!0,attrs:{class:"token entity",title:"\\214"}},[t._v("\\214")]),e("span",{pre:!0,attrs:{class:"token entity",title:"\\214"}},[t._v("\\214")]),e("span",{pre:!0,attrs:{class:"token entity",title:"\\020"}},[t._v("\\020")]),e("span",{pre:!0,attrs:{class:"token entity",title:"\\303"}},[t._v("\\303")]),e("span",{pre:!0,attrs:{class:"token entity",title:"\\347"}},[t._v("\\347")]),t._v("4"),e("span",{pre:!0,attrs:{class:"token entity",title:"\\360"}},[t._v("\\360")]),e("span",{pre:!0,attrs:{class:"token entity",title:"\\014"}},[t._v("\\014")]),e("span",{pre:!0,attrs:{class:"token entity",title:"\\234"}},[t._v("\\234")]),t._v("-"),e("span",{pre:!0,attrs:{class:"token entity",title:"\\006"}},[t._v("\\006")]),e("span",{pre:!0,attrs:{class:"token entity",title:"\\315"}},[t._v("\\315")]),t._v("B"),e("span",{pre:!0,attrs:{class:"token entity",title:"\\031"}},[t._v("\\031")]),e("span",{pre:!0,attrs:{class:"token entity",title:"\\022"}},[t._v("\\022")]),e("span",{pre:!0,attrs:{class:"token entity",title:"\\010"}},[t._v("\\010")]),e("span",{pre:!0,attrs:{class:"token entity",title:"\\022"}},[t._v("\\022")]),e("span",{pre:!0,attrs:{class:"token entity",title:"\\006"}},[t._v("\\006")]),e("span",{pre:!0,attrs:{class:"token entity",title:"\\010"}},[t._v("\\010")]),e("span",{pre:!0,attrs:{class:"token entity",title:"\\001"}},[t._v("\\001")]),e("span",{pre:!0,attrs:{class:"token entity",title:"\\022"}},[t._v("\\022")]),e("span",{pre:!0,attrs:{class:"token entity",title:"\\002"}},[t._v("\\002")]),e("span",{pre:!0,attrs:{class:"token entity",title:"\\010"}},[t._v("\\010")]),e("span",{pre:!0,attrs:{class:"token entity",title:"\\000"}},[t._v("\\000")]),e("span",{pre:!0,attrs:{class:"token entity",title:"\\032"}},[t._v("\\032")]),e("span",{pre:!0,attrs:{class:"token entity",title:"\\r"}},[t._v("\\r")]),e("span",{pre:!0,attrs:{class:"token entity",title:"\\022"}},[t._v("\\022")]),e("span",{pre:!0,attrs:{class:"token entity",title:"\\013"}},[t._v("\\013")]),e("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[t._v("\\n")]),e("span",{pre:!0,attrs:{class:"token entity",title:"\\007"}},[t._v("\\007")]),t._v("Org1MSP"),e("span",{pre:!0,attrs:{class:"token entity",title:"\\020"}},[t._v("\\020")]),e("span",{pre:!0,attrs:{class:"token entity",title:"\\001"}},[t._v("\\001")]),t._v('"')]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(".")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(".")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(".")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2018")]),t._v("-02-22 "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("18")]),t._v(":26:46.693 UTC "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("chaincodeCmd"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" upgrade -"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" DEBU 00c Get Signed envelope\n"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2018")]),t._v("-02-22 "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("18")]),t._v(":26:46.693 UTC "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("chaincodeCmd"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" chaincodeUpgrade -"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" DEBU 00d Send signed envelope to orderer\n"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2018")]),t._v("-02-22 "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("18")]),t._v(":26:46.908 UTC "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" main -"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" INFO 00e Exiting"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(".\n\n\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br"),e("span",{staticClass:"line-number"},[t._v("8")]),e("br"),e("span",{staticClass:"line-number"},[t._v("9")]),e("br"),e("span",{staticClass:"line-number"},[t._v("10")]),e("br"),e("span",{staticClass:"line-number"},[t._v("11")]),e("br"),e("span",{staticClass:"line-number"},[t._v("12")]),e("br"),e("span",{staticClass:"line-number"},[t._v("13")]),e("br"),e("span",{staticClass:"line-number"},[t._v("14")]),e("br"),e("span",{staticClass:"line-number"},[t._v("15")]),e("br"),e("span",{staticClass:"line-number"},[t._v("16")]),e("br"),e("span",{staticClass:"line-number"},[t._v("17")]),e("br"),e("span",{staticClass:"line-number"},[t._v("18")]),e("br"),e("span",{staticClass:"line-number"},[t._v("19")]),e("br"),e("span",{staticClass:"line-number"},[t._v("20")]),e("br"),e("span",{staticClass:"line-number"},[t._v("21")]),e("br")])]),e("h3",{attrs:{id:"upgrade-example2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#upgrade-example2"}},[t._v("#")]),t._v(" Upgrade Example2")]),t._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[t._v("$ "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("CORE_PEER_TLS_KEY_FILE")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/nuriorg.exchange.com/peers/peer0.nuriorg.exchange.com/tls/server.key\n$ "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("CORE_PEER_LOCALMSPID")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("NuriOrgMSP\n$ "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("CORE_PEER_TLS_ENABLED")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("true\n$ "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("CORE_PEER_TLS_CERT_FILE")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/nuriorg.exchange.com/peers/peer0.nuriorg.exchange.com/tls/server.crt\n$ "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("CORE_PEER_ID")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("cli\n$ "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("CORE_VM_DOCKER_HOSTCOFIG_NETWORKMODE")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("exchange-net\n$ "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("CORE_PEER_MSPCONFIGPATH")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/nuriorg.exchange.com/users/Admin@nuriorg.exchange.com/msp\n$ "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("CORE_PEER_TLS_ROOTCERT_FILE")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/nuriorg.exchange.com/peers/peer0.nuriorg.exchange.com/tls/ca.crt\n$ "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("CORE_PEER_ADDRESS")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("peer0.nuriorg.exchange.com:7051\n$ "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("CORE_VM_ENDPOINT")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("unix:///host/var/run/docker.sock\n\n$ peer chaincode upgrade -o orderer0.exchange.com:7050 "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n --tls "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v(" --cafile /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/ordererOrganizations/exchange.com/orderers/orderer0.exchange.com/msp/tlscacerts/tlsca.exchange.com-cert.pem "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n -C exchange-channel -n exchange -l golang -v "),e("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$CC_VER")]),t._v(" -c "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('\'{"Args":["initLedger"]}\'')]),t._v(" -P "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'OR ('")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("'"),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'NuriOrgMSP.peer'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("'"),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("','")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("'"),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'NFlexOrgMSP.peer'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("'"),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("')'")]),t._v("\n \n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br"),e("span",{staticClass:"line-number"},[t._v("8")]),e("br"),e("span",{staticClass:"line-number"},[t._v("9")]),e("br"),e("span",{staticClass:"line-number"},[t._v("10")]),e("br"),e("span",{staticClass:"line-number"},[t._v("11")]),e("br"),e("span",{staticClass:"line-number"},[t._v("12")]),e("br"),e("span",{staticClass:"line-number"},[t._v("13")]),e("br"),e("span",{staticClass:"line-number"},[t._v("14")]),e("br"),e("span",{staticClass:"line-number"},[t._v("15")]),e("br")])])])}),[],!1,null,null,null);s.default=n.exports}}]);