(window.webpackJsonp=window.webpackJsonp||[]).push([[61],{493:function(t,s,a){"use strict";a.r(s);var n=a(36),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"이벤트-큐에-작업을-추가"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#이벤트-큐에-작업을-추가"}},[t._v("#")]),t._v(" 이벤트 큐에 작업을 추가")]),t._v(" "),a("h2",{attrs:{id:"nexttick을-사용한-작업-스케줄링"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nexttick을-사용한-작업-스케줄링"}},[t._v("#")]),t._v(" nextTick을 사용한 작업 스케줄링")]),t._v(" "),a("p",[t._v("이벤트 큐의 job을 스케줄링하기 위한 유용한 방법으로 "),a("code",[t._v("process.nextTick(callback)")]),t._v(" 함수가 있다.\n이 함수는 이벤트 루프의 다음 사이클에서 작업을 수행하도록 스케줄링을 한다.")]),t._v(" "),a("h2",{attrs:{id:"이벤트-이미터와-리스너-구현하기"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#이벤트-이미터와-리스너-구현하기"}},[t._v("#")]),t._v(" 이벤트 이미터와 리스너 구현하기")]),t._v(" "),a("h3",{attrs:{id:"자바스크립트-객체에-커스텀-이벤트-추가"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#자바스크립트-객체에-커스텀-이벤트-추가"}},[t._v("#")]),t._v(" 자바스크립트 객체에 커스텀 이벤트 추가")]),t._v(" "),a("p",[t._v("이벤트는 "),a("code",[t._v("events")]),t._v(" 모듈에 포함된 "),a("code",[t._v("EventEmitter")]),t._v(" 객체를 사용해 발생시킬 수 있다.\n"),a("code",[t._v("emit(eventName, [args])")]),t._v(" 함수는 "),a("code",[t._v("eventName")]),t._v(" 이벤트를 유발시키고 제공된 전달인자를 포함한다.\n다음 코드는 간단한 이벤트 이미터를 모듈로 구현하는 방법을 보여준다.")]),t._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" events "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'events'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" emitter "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("events"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("EventEmitter")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nemitter"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("emit")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"simpleEvent"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])]),a("p",[t._v("자바스크립트 객체에 직접 이벤트를 추가하려면 객체 초기화 시 "),a("code",[t._v("events.EventEmitter.call(this)")]),t._v("를 호출해\n"),a("code",[t._v("EventEmitter")]),t._v(" 기능을 상속 받고 객체 프로토타입에 "),a("code",[t._v("events.EventEmitter.prototype")]),t._v("을 추가한다.")]),t._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[t._v("Function "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("MyObj")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    Events"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("EventEmitter")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("call")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MyObj")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("__proto__ "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" events"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("EventEmitter")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br")])]),a("p",[t._v("위 작업을 수행한 후에 아래와 같이 객체 인스턴스에서 직접 이벤트를 발생시킨다.")]),t._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" myObj "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MyObj")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nmyObj"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("emit")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"someEvent"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br")])]),a("h3",{attrs:{id:"이벤트-리스너를-객체에-추가"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#이벤트-리스너를-객체에-추가"}},[t._v("#")]),t._v(" 이벤트 리스너를 객체에 추가")]),t._v(" "),a("p",[t._v("이벤트를 발생시키는 객체 인스턴스는 관심 있는 이벤트에 대한 리스너를 추가할 수 있다. 아래와 같이 "),a("code",[t._v("EventEmitter")]),t._v(" 객체에 리스너 함수를 추가한다.")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("addListener(eventName, callback)")]),t._v(" : 객체 리스너에 콜백 함수를 추가한다.\n"),a("code",[t._v("eventName")]),t._v(" 이벤트가 호출될 때 마다 콜백 함수가 실행을 위한 이벤트 큐에 추가된다.")]),t._v(" "),a("li",[a("code",[t._v(".on(eventName, callback)")]),t._v(" : "),a("code",[t._v("addListener()")]),t._v("와 동일하다.")]),t._v(" "),a("li",[a("code",[t._v(".once(eventName, callback)")]),t._v(" : "),a("code",[t._v("eventName")]),t._v("가 트리거되면 단 한 번 콜백 함수가 실행을 위해 이벤트 큐에 추가된다.")])]),t._v(" "),a("p",[t._v("앞에서 정의한 "),a("code",[t._v("MyObject EventEmitter")]),t._v(" 클래스의 객체에 리스너를 추가하려면 다음과 같이 한다.")]),t._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("myCallback")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" myObject "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MyObj")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nmyObject"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("on")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"someEvent"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" myCallback"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br")])])])}),[],!1,null,null,null);s.default=e.exports}}]);